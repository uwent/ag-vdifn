<div class='iw-title'>
  Grid Point Details (<%= @latitude %>&deg;N, <%= @longitude %>&deg;W)
</div>

<div id='iw-content'>
  <h3 class="weather-details-title">Selected Model: <%= @model_value %></h3>
  <h4>Tmin: <%= @t_min %>, Tmax: <%= @t_max %></h4>
  <div class="weather-details">
      <% if @weather %>
      <table>
        <thead>
          <tr>
            <th>Day</th>
            <th>Min Temp.</th>
            <th>Max Temp.</th>
            <th class="weather-details-dsv" data-balloon-length="small" data-balloon-pos="down" aria-label="Degree-days quantify the amount of heat energy generated each day that contributes to insect development.">
              Degree Days <div class="info-icon">?</div>
            </th>
            <th class="weather-details-dsv" data-balloon-length="small" data-balloon-pos="down" aria-label="Accumulated degree-day values can be used to estimate insect development.">
              Cumulative Degree Days <div class="info-icon">?</div>
            </th>
          </tr>
        </thead>
        <tbody>
          <% @weather.each do |day| %>
            <tr>
              <td class="odd"><%= day[:date] %></td>
              <td><%= convert_temp(day[:min_temp]) %>&deg;<%= temp_symbol() %></td>
              <td class="odd"><%= convert_temp(day[:max_temp]) %>&deg;<%= temp_symbol() %></td>
              <td><%= day[:value] %></td>
              <td class="odd"><%= day[:cumulative_value] %></td>
            </tr>
          <% end %>
        </tbody>
        <tfoot>
          <tr>
            <th>Total:</th>
            <td></td>
            <td></td>
            <td><strong>
              <%= @weather.inject(0) { |sum, h| sum += h[:value]}.round(1) %>
            </strong></td>
          </tr>
        </tfoot>
      </table>
    <% else %>
      <p style="text-align: center;">No data to display.</p>
    <% end %>
  </div>
</div>
